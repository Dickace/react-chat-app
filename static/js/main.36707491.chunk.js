(this["webpackJsonpreact-chat-app"]=this["webpackJsonpreact-chat-app"]||[]).push([[0],[,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"API_URL":"http://109.194.37.212:93"}')},,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c,n=a(1),i=a.n(n),s=a(18),r=a.n(s),l=(a(25),a(26),a(27),a(2));!function(e){e.SCREEN_LOGIN="/login",e.SCREEN_CHAT="/chat",e.SCREEN_CONVERSATION="/chat/:chatId(\\d+)"}(c||(c={}));var o=a(8),u=a.n(o),d=a(12),j=(a(29),a(0)),m=function(e){var t=e.isHeader,a=void 0!==t&&t,c=e.type,n=void 0===c?"1":c,i=e.text,s=void 0===i?" ":i,r=e.children,l=e.size,o=e.weight,u=e.color,d={};return void 0!==l&&(d.fontSize=l),void 0!==o&&(d.fontWeight=parseInt(o)),void 0!==u&&(d.color=u),Object(j.jsxs)(j.Fragment,{children:[a?Object(j.jsx)("p",{className:"textBlock-header textBlock-header__".concat(n),style:d,children:s}):Object(j.jsx)("p",{className:"textBlock-plain textBlock-plain__".concat(n),style:d,children:s}),r]})},h=(a(31),a.p+"static/media/chatlogo.c96a0da5.svg");function b(e){var t=e.split("/");return t[t.length-1].split(".")[0]}var p=function(){return Object(j.jsx)("img",{className:"applogo",src:h,alt:b(h)})},f=function(){return Object(j.jsxs)("div",{className:"wellcomeHeader",children:[Object(j.jsx)(p,{}),Object(j.jsxs)("div",{className:"wellcomeHeader-string",children:[Object(j.jsx)(m,{text:"Wellcome to\xa0",type:"1",isHeader:!0}),Object(j.jsx)(m,{text:"Chatty",isHeader:!0,type:"1",color:"#5E93E7"}),Object(j.jsx)(m,{text:"!",isHeader:!0,type:"1",color:"#B3CDF8"})]}),Object(j.jsx)(m,{text:"Please, authorize yourself",isHeader:!0,type:"2"})]})},x=a(6),g=(a(32),a.p+"static/media/info.410775e6.svg"),O=function(e){var t=e.placeholder,a=void 0===t?"InputText":t,c=e.label,n=void 0===c?"Input field":c,i=e.type,s=void 0===i?"text":i,r=e.style,l=void 0===r?"regular":r,o=e.value,u=void 0===o?"":o,d=e.onChange,m=e.msg,h=void 0===m?"":m,p=e.children,f=e.handleStyleChange,x=e.handleMsg;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("label",{className:"inputField",children:[Object(j.jsx)("span",{className:"inputField-label",children:n}),Object(j.jsx)("input",{className:"inputField-input inputField-input__".concat(l),value:u,type:s,placeholder:a,onChange:d,onFocus:function(){x(""),f("typing")},onBlur:function(){x(""),f("regular")}}),h?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{className:"inputField-msgIcon",src:g,alt:b(g)}),Object(j.jsx)("p",{className:"inputField-msg inputField-msg__".concat(l),children:h})]}):null]}),p]})},v=(a(33),function(e){var t=e.text,a=e.style,c=void 0===a?"regular":a,n=e.onClick,i=e.type,s=void 0===i?"button":i,r=e.children;return Object(j.jsxs)("button",{type:s,className:"button button__".concat(c),onClick:n,children:[t,r]})}),C=(a(34),function(e){var t=e.captchaImg,a=e.captcha,c=e.handleCaptchaChange,n=e.handleRefreshCaptchaClick;return Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Input captcha"}),Object(j.jsx)("img",{src:t,alt:b(t)}),Object(j.jsx)("input",{type:"text",value:a,onChange:c}),Object(j.jsx)("div",{onClick:n,children:"Refresh captcha"})]})}),S=a(13),y=function(e){var t=e.children,a=void 0===t?"":t,c=e.handleLoginSubmit,i=Object(n.useState)("regular"),s=Object(x.a)(i,2),r=s[0],l=s[1],o=Object(n.useState)("regular"),m=Object(x.a)(o,2),h=m[0],b=m[1],p=Object(n.useState)(""),f=Object(x.a)(p,2),g=f[0],y=f[1],F=Object(n.useState)(""),N=Object(x.a)(F,2),k=N[0],I=N[1],M=Object(n.useState)(""),w=Object(x.a)(M,2),_=w[0],L=w[1],E=Object(n.useState)(""),B=Object(x.a)(E,2),H=B[0],R=B[1],U=Object(n.useState)(""),T=Object(x.a)(U,2),A=T[0],P=T[1],z=Object(n.useState)(""),q=Object(x.a)(z,2),D=q[0],G=q[1],J=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S.API_URL,"/api/auth/captcha"),{method:"GET",credentials:"include"});case 2:if(t=e.sent,console.log(t.headers.has("Set-cookie")),!t.ok){e.next=11;break}return e.next=7,t.blob();case 7:a=e.sent,G(URL.createObjectURL(a)),e.next=12;break;case 11:return e.abrupt("return","Error: ".concat(t.status));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){J().catch((function(e){console.log(e)}))}),[]);return Object(j.jsxs)("form",{className:"loginForm",children:[Object(j.jsxs)("div",{className:"loginForm-inputGroup",children:[Object(j.jsx)(O,{onChange:function(e){y(e.currentTarget.value)},handleStyleChange:l,handleMsg:R,msg:H,style:r,value:g,placeholder:"Input user name",label:"User name"}),Object(j.jsx)(O,{onChange:function(e){I(e.currentTarget.value)},handleStyleChange:b,handleMsg:P,msg:A,style:h,value:k,placeholder:"Input password",label:"Input password",type:"password"}),Object(j.jsx)(C,{handleCaptchaChange:function(e){L(e.currentTarget.value)},captcha:_,captchaImg:D,handleRefreshCaptchaClick:function(){J().catch((function(e){console.log(e)}))}})]}),a,Object(j.jsx)(v,{onClick:function(e){e.preventDefault();var t=!0;g.length<2&&(l("error"),R("Must be more than two sign"),t=!1),k.length<2&&(b("error"),P("Must be more than two sign"),t=!1),t&&c(g,k,_)},text:"Log in"})]})},F=(a(35),function(e){var t=e.handleLoginSubmit;return Object(j.jsxs)("div",{className:"wellcomeArea",children:[Object(j.jsx)(f,{}),Object(j.jsx)(y,{handleLoginSubmit:t})]})}),N=(a(36),a.p+"static/media/beautyBackground.a8851126.svg"),k=a.p+"static/media/beautyBackgroundMobile.5bb270b4.svg",I=function(){var e=N;return window.matchMedia("(max-width: 768px)").matches&&(e=k),Object(j.jsx)("img",{className:"beautyBackground",src:e,alt:b(e)})},M=(a(37),function(e){var t=e.handleLoginSubmit;return Object(j.jsxs)("section",{className:"wellcomeTemplate",children:[Object(j.jsx)("article",{className:"loginContainer",children:Object(j.jsx)(F,{handleLoginSubmit:t})}),Object(j.jsx)(I,{})]})}),w=function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(t,a,c){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,console.log(t,a,c),n.append("login",t),n.append("password",a),n.append("captcha",c),e.next=7,fetch("".concat(S.API_URL,"/api/auth/login"),{method:"POST",body:n,credentials:"include"}).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){console.log(e)}));case 7:e.sent;case 8:case"end":return e.stop()}}),e)})));return function(t,a,c){return e.apply(this,arguments)}}();return Object(j.jsx)(M,{handleLoginSubmit:e})},_=(a(38),a.p+"static/media/defaultAvatar.639548b6.svg"),L=function(e){var t=e.avatarImage,a=void 0===t?_:t,c=e.style;return Object(j.jsx)("img",{style:c,className:"avatar",src:a,alt:b(a)})},E=(a(39),a.p+"static/media/accounticon.dbb31048.svg"),B=function(){return Object(j.jsxs)("header",{className:"appheader",children:[Object(j.jsx)(p,{}),Object(j.jsx)(L,{avatarImage:E,style:{boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.08)"}})]})},H=(a(40),function(e){var t=e.userCard,a=void 0===t?{username:"User name",recentMsg:"Hey!",isFromMe:!1,selected:!1,chatId:"0"}:t,c=e.handleClickUserCard;return Object(j.jsxs)("div",{onClick:c,"data-selected":a.isSelected,className:"userCard",children:[Object(j.jsx)(L,{avatarImage:a.avatar}),Object(j.jsxs)("div",{className:"userCard-textBlock",children:[Object(j.jsx)(m,{text:a.username,isHeader:!0,type:"4"}),Object(j.jsxs)("div",{className:"userCard-msg",children:[a.isFromMe?Object(j.jsx)(m,{text:"You:\xa0",type:"2",color:a.isSelected?"#FFFFFF":"#5E93E7"}):null,Object(j.jsx)(m,{text:a.recentMsg,type:"2"})]})]})]})}),R=(a(41),a.p+"static/media/nousericon.2a176518.svg"),U=a(10),T={height:"200px",width:"200px",borderRadius:"100px"},A=function(e){var t=e.userList,a=e.handleUserCardClick;return Object(j.jsx)(j.Fragment,{children:0!==(null===t||void 0===t?void 0:t.length)&&t?Object(j.jsx)("div",{className:"userList",children:t.map((function(e,t){return Object(j.jsx)(U.b,{to:"".concat(c.SCREEN_CHAT,"/").concat(e.chatId),children:Object(j.jsx)(H,{handleClickUserCard:a,userCard:e},"".concat(e.username).concat(t))},"".concat(e.chatId).concat(t))}))}):Object(j.jsxs)("div",{className:"userList userList__noUser",children:[Object(j.jsx)(L,{avatarImage:R,style:T}),Object(j.jsx)(m,{text:"There is no other users yet",size:"15px"})]})})},P=(a(47),a(48),a.p+"static/media/fileIcon.c4a3d7f0.svg"),z=(a(49),a(50),function(e){var t=e.src;return Object(j.jsx)("img",{className:"image",src:t,alt:b(t)})}),q=function(e){var t=e.file,a=void 0===t?{filename:"file_name_001",fileSize:"2.4 MB",filePreview:P,fileFormat:"doc"}:t;return Object(j.jsx)("div",{className:"file",children:"jpg"===a.fileFormat||"png"===a.fileFormat||"jpeg"===a.fileFormat||"gif"===a.fileFormat?Object(j.jsx)(z,{src:a.filePreview}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{src:P,className:"file-icon",alt:b(P)}),Object(j.jsxs)("div",{className:"file-description",children:[Object(j.jsx)(m,{text:a.filename,type:"1",weight:"600"}),Object(j.jsx)(m,{text:a.fileSize,weight:"400",type:"2"})]})]})})},D=function(e){var t=e.messageItem,a=void 0===t?{text:"Hey!",isFromMe:!0,files:[]}:t;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"messageBlock messageBlock__".concat(a.isFromMe?"fromMe":"fromChat"),children:[Object(j.jsx)(m,{text:a.text,weight:"400"}),0!==a.files.length?a.files.map((function(e,t){return Object(j.jsx)(q,{file:e},"".concat(e.filename).concat(t))})):null]})})},G=(a(51),a.p+"static/media/backIcon.d3fd6ea1.svg"),J=function(e){var t=e.chattingUser,a=void 0===t?{username:"Marina Joe",isOnline:!1,lastSeen:"3 minute ago",avatar:_}:t,c=e.handleBackClick;return Object(j.jsxs)("div",{className:"chatHeader",children:[Object(j.jsx)("img",{onClick:c,src:G,alt:b(G)}),Object(j.jsx)(L,{avatarImage:_}),Object(j.jsxs)("div",{className:"chatHeader-nameAndStatus",children:[Object(j.jsx)(m,{text:a.username,isHeader:!0,type:"3"}),Object(j.jsx)(m,{text:a.isOnline?"Online":"Last seen ".concat(a.lastSeen),color:"#949494"})]})]})},K=a.p+"static/media/sendMessage.bff66a4e.svg",V=a.p+"static/media/pinFile.cc6bfb49.svg",W=(a(52),function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(x.a)(a,2),i=c[0],s=c[1];return Object(j.jsxs)("form",{className:"chatInput",onSubmit:t,children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("img",{src:V,alt:b(V)}),Object(j.jsx)("input",{className:"chatInput-file",type:"file"})]}),Object(j.jsx)("input",{className:"chatInput-messageInput",placeholder:"Write something...",value:i,onChange:function(e){s(e.currentTarget.value)}}),Object(j.jsxs)("label",{children:[Object(j.jsx)("img",{src:K,alt:b(K)}),Object(j.jsx)("input",{className:"chatInput-submit",type:"submit"})]})]})}),Y=(a(53),function(e){var t=e.messageList,a=e.children,c=e.handleSendMessage,i=e.chattingUser,s=e.handleBackClick,r=Object(n.createRef)();return Object(n.useEffect)((function(){var e,t;null===(e=r.current)||void 0===e||e.scrollTo(0,null===(t=r.current)||void 0===t?void 0:t.scrollHeight)}),[i.chatId]),Object(j.jsxs)("div",{className:"chatArea",children:[Object(j.jsx)(J,{handleBackClick:s,chattingUser:i}),Object(j.jsx)("div",{ref:r,className:"chatArea-messageList chatArea-messageList__".concat(0!==(null===t||void 0===t?void 0:t.length)?"withMsg":"noMsg"),children:0!==(null===t||void 0===t?void 0:t.length)?null===t||void 0===t?void 0:t.map((function(e,t){return Object(j.jsx)(D,{messageItem:e},"".concat(e.text).concat(t))})):Object(j.jsx)(m,{text:"Write first"})}),a,Object(j.jsx)(W,{onSubmit:c})]})}),Q=a.p+"static/media/chatBeautyBackground.c08ad226.svg",X=function(e){var t=e.ContactList,a=e.MessageList,c=e.chatId,n=e.chattingUser,i=e.isChatDisplay,s=e.handleBackClick,r=e.handleUserCardClick,l={backgroundImage:"url(".concat(Q,")")},o={};return o.marginLeft=i?"-100%":"0",Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(B,{}),Object(j.jsxs)("section",{style:o,className:"chatContainer",children:[Object(j.jsx)(A,{handleUserCardClick:r,userList:t}),Object(j.jsx)("div",{className:"chatContainer-chat",style:l,children:void 0!==c?Object(j.jsx)(Y,{handleBackClick:s,chattingUser:n,messageList:a}):Object(j.jsx)(m,{text:"Select a chat to stray messaging"})})]})]})},Z=a.p+"static/media/Vasserman_logo.afef6b61.jpg",$=a.p+"static/media/gachi-fist.2252226d.gif",ee=a.p+"static/media/evangelion-smug.7cebb251.gif",te=a.p+"static/media/funny-animals.c49c20a0.gif",ae=function(){var e=Object(l.g)().chatId,t=e,a=Object(n.useState)(!1),c=Object(x.a)(a,2),i=c[0],s=c[1];Object(n.useEffect)((function(){window.matchMedia("(max-width: 768px)").matches&&s(!1)}),[]);var r={text:"Sed ut perspiciatis unde omnis iste natus error sit voluptatem",isFromMe:!1,files:[]},o={text:"SeSed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.  accusantium doloremque laudantium, totam re",isFromMe:!0,files:[]},u={text:"SeSed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.",isFromMe:!1,files:[]},d={text:"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusanti",isFromMe:!0,files:[]},m={text:"",isFromMe:!0,files:[{filename:"File_for_exampl0011232555234.doc",fileSize:"4.2 MB",fileFormat:"doc",filePreview:""}]},h={text:"",isFromMe:!1,files:[{filename:"\u0417\u0430 \u0424\u0421\u0423",fileSize:"4.2 MB",fileFormat:"gif",filePreview:$},{filename:"",fileSize:"2 MB",fileFormat:"gif",filePreview:ee},{filename:"Cacth",fileSize:"2 MB",fileFormat:"gif",filePreview:te}]},b={text:"",isFromMe:!0,files:[{filename:"Vasserman_logo",fileSize:"2 MB",fileFormat:"jpg",filePreview:Z}]},p=[],f={username:"Marina Joe",recentMsg:"Sed ut per...",isFromMe:!0,isSelected:!1,chatId:"2",lastSeen:"3 minute ago",isOnline:!1},g=[{username:"Konstantin Konstantinopolski",recentMsg:"Hey!",isFromMe:!1,isSelected:!1,chatId:"1",lastSeen:"6 minute ago",isOnline:!1},{username:"Marina Joe",recentMsg:"Sed ut per...",isFromMe:!0,isSelected:!1,chatId:"2",lastSeen:"3 minute ago",isOnline:!0},{username:"Ernest Gillroy",recentMsg:"How are you doing?",isFromMe:!0,isSelected:!1,chatId:"3",lastSeen:"2 minute ago",isOnline:!1},{username:"Konstantin Konstantinopolski",recentMsg:"Hey!",isFromMe:!1,isSelected:!1,chatId:"4",lastSeen:"3 minute ago",isOnline:!0}];switch(g.forEach((function(t){if(t.chatId===e)return t.isSelected=!0,void(f=t)})),e){case"1":p=[];break;case"2":p=[r,o,u,m];break;case"3":p=[r,h,o,u,b];break;case"4":p=[r,o,u,d,r,o,u,d];break;default:p=[],t=void 0}return Object(j.jsx)(X,{handleUserCardClick:function(){window.matchMedia("(max-width: 768px)").matches&&s(!0)},handleBackClick:function(){s(!1)},isChatDisplay:i,chatId:t,chattingUser:f,MessageList:p,ContactList:g})},ce=function(){return Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:c.SCREEN_LOGIN,exact:!0,children:Object(j.jsx)(w,{})}),Object(j.jsx)(l.b,{path:c.SCREEN_CHAT,exact:!0,children:Object(j.jsx)(ae,{})}),Object(j.jsx)(l.b,{path:c.SCREEN_CONVERSATION,children:Object(j.jsx)(ae,{})}),Object(j.jsx)(l.a,{to:c.SCREEN_LOGIN})]})},ne=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(U.a,{children:Object(j.jsx)(ce,{})})})},ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,55)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),i(e),s(e)}))};r.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(ne,{})}),document.getElementById("root")),ie()}],[[54,1,2]]]);
//# sourceMappingURL=main.36707491.chunk.js.map